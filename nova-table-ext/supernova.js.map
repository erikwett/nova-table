{"version":3,"file":"supernova.js","sources":["../dist/nova-table.esm.js"],"sourcesContent":["/*\n* nova-table v0.1.0\n* Copyright (c) 2019 erikwett <erik.wetterberg@gmail.com>\n* Released under the MIT license.\n*/\n\nvar properties = {\n  showTitles: true,\n  title: '',\n  subtitle: '',\n  footnote: '',\n  qHyperCubeDef: {\n    qDimensions: [],\n    qMeasures: [],\n    qInitialDataFetch: [{\n      qWidth: 10,\n      qHeight: 50\n    }]\n  }\n};\n\nvar data = {\n  targets: []\n};\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".nova-table {\\r\\n    font-family: \\\"Source Sans Pro\\\", \\\"Segoe UI\\\", \\\"Helvetica Neue\\\", -apple-system, Arial, sans-serif;\\r\\n    height: 100%;\\r\\n    overflow: auto;\\r\\n}\\r\\n\\r\\n.nova-table table td,\\r\\n.nova-table table th {\\r\\n    text-align: left;\\r\\n}\\r\\n.nova-table table td.numeric {\\r\\n    text-align: right;\\r\\n}\";\nstyleInject(css);\n\nfunction supernova(env) {\n  return {\n    qae: {\n      properties: properties,\n      data: data\n    },\n    component: {\n      created: function created() {\n        console.log('created', env);\n      },\n      mounted: function mounted(element) {\n        this.element = element;\n        this.element.innerHTML = 'nova-table';\n      },\n      render: function render(_ref) {\n        var layout = _ref.layout,\n            context = _ref.context;\n        var hypercube = layout.qHyperCube;\n        var html = '<div class=\"nova-table\"><table><thead><tr>';\n        html += hypercube.qDimensionInfo.map(function (d) {\n          return \"<th>\".concat(d.qFallbackTitle, \"</th>\");\n        }).join('');\n        html += hypercube.qMeasureInfo.map(function (m) {\n          return \"<th>\".concat(m.qFallbackTitle, \"</th>\");\n        }).join('');\n        html += '</tr></thead><tbody>';\n        html += hypercube.qDataPages[0].qMatrix.map(function (row) {\n          return \"<tr>\".concat(row.map(function (cell) {\n            return \"<td\".concat(cell.qNum === 'NaN' ? '' : ' class=\"numeric\"', \">\").concat(cell.qText, \"</td>\");\n          }).join(''), \"</tr>\");\n        }).join('');\n        html += '</tbody></table></div>';\n        this.element.innerHTML = html;\n      },\n      resize: function resize() {},\n      willUnmount: function willUnmount() {},\n      destroy: function destroy() {}\n    }\n  };\n}\n\nexport default supernova;\n//# sourceMappingURL=nova-table.esm.js.map\n"],"names":["properties","showTitles","title","subtitle","footnote","qHyperCubeDef","qDimensions","qMeasures","qInitialDataFetch","qWidth","qHeight"],"mappings":";;;;;IAAA,IAAMA,EAAa,CACjBC,YADiB,EAEjBC,MAFiB,GAGjBC,SAHiB,GAIjBC,SAJiB,GAKjBC,cAAe,CACbC,YADa,GAEbC,UAFa,GAGbC,kBAAmB,CAAC,CAClBC,OADkB,GAElBC,QAAS"}